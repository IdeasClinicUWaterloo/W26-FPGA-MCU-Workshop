-- ========================================
-- ACTIVITY 3: activity3_adder_display.vhd
-- Full Adder with Seven-Segment Display
-- ========================================
library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.NUMERIC_STD.ALL;

entity activity3_adder_display is
    Port (
        SW : in STD_LOGIC_VECTOR(2 downto 0);    -- SW0=A, SW1=B, SW2=Cin
        HEX1 : out STD_LOGIC_VECTOR(6 downto 0)
    );
end activity3_adder_display;

architecture Behavioral of activity3_adder_display is
    
    signal sum : STD_LOGIC;
    signal cout : STD_LOGIC;
    
    -- Function: Convert digit (0-3) to 7-segment display
    function digit_to_7seg(d : integer) return STD_LOGIC_VECTOR is
        variable seg : STD_LOGIC_VECTOR(6 downto 0);
    begin
        case d is
            when 0 => seg := "1000000"; -- 0
            when 1 => seg := "1111001"; -- 1
            when 2 => seg := "0100100"; -- 2
            when 3 => seg := "0110000"; -- 3
            when others => seg := "1111111"; -- Blank
        end case;
        return seg;
    end function;
    
begin
    
    -- Full Adder Logic
    sum <= SW(0) xor SW(1) xor SW(2);
    cout <= (SW(0) and SW(1)) or (SW(0) and SW(2)) or (SW(1) and SW(2));
    
    -- Convert result to 7-segment display
    process(sum, cout)
        variable result : integer range 0 to 3;
    begin
        -- Combine Cout and Sum to get decimal value (0-3)
        result := to_integer(unsigned(cout & sum));
        HEX1 <= digit_to_7seg(result);
    end process;
    
end Behavioral;